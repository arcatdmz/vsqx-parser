var e="http://www.yamaha.co.jp/vocaloid/schema/vsq3/",r="http://www.yamaha.co.jp/vocaloid/schema/vsq4/";function t(t){var a=(new DOMParser).parseFromString(t,"text/xml");if(function(e){var r=(new DOMParser).parseFromString("<","text/xml").getElementsByTagName("parsererror")[0].namespaceURI;if("http://www.w3.org/1999/xhtml"===r)return e.getElementsByTagName("parsererror").length>0;return e.getElementsByTagNameNS(r,"parsererror").length>0}(a))return{error:"XML parse error",data:null};if(a.children.length<=0||a.children[0].namespaceURI!==e&&a.children[0].namespaceURI!==r||"vsq3"!==a.children[0].tagName&&"vsq4"!==a.children[0].tagName)return{error:"Unsupported VSQX format",data:null};var n=a.children[0],o=n.querySelector("vsq3>vender")||n.querySelector("vsq4>vender"),s=o&&o.textContent,l=n.querySelector("vsq3>version")||n.querySelector("vsq4>version");return{data:{vender:s,version:l&&l.textContent,raw:n}}}export{t as parse};
