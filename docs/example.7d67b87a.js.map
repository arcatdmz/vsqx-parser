{"version":3,"sources":["../dist/index.es.js","index.ts"],"names":["e","r","t","a","DOMParser","parseFromString","getElementsByTagName","namespaceURI","length","getElementsByTagNameNS","error","data","children","tagName","n","o","querySelector","s","textContent","l","vender","version","raw"],"mappings":";AAAm5B,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,MAAA,EAAn5B,IAAIA,EAAE,gDAAgDC,EAAE,gDAAgD,SAASC,EAAEA,GAAOC,IAAAA,GAAG,IAAIC,WAAWC,gBAAgBH,EAAE,YAAe,GAAA,SAASF,GAAOC,IAAAA,GAAG,IAAIG,WAAWC,gBAAgB,IAAI,YAAYC,qBAAqB,eAAe,GAAGC,aAAgB,MAAA,iCAAiCN,EAASD,EAAEM,qBAAqB,eAAeE,OAAO,EAASR,EAAES,uBAAuBR,EAAE,eAAeO,OAAO,EAA1Q,CAA6QL,GAAG,MAAM,CAACO,MAAM,kBAAkBC,KAAK,MAASR,GAAAA,EAAES,SAASJ,QAAQ,GAAGL,EAAES,SAAS,GAAGL,eAAeP,GAAGG,EAAES,SAAS,GAAGL,eAAeN,GAAG,SAASE,EAAES,SAAS,GAAGC,SAAS,SAASV,EAAES,SAAS,GAAGC,QAAQ,MAAM,CAACH,MAAM,0BAA0BC,KAAK,MAAUG,IAAAA,EAAEX,EAAES,SAAS,GAAGG,EAAED,EAAEE,cAAc,gBAAgBF,EAAEE,cAAc,eAAeC,EAAEF,GAAGA,EAAEG,YAAYC,EAAEL,EAAEE,cAAc,iBAAiBF,EAAEE,cAAc,gBAAsB,MAAA,CAACL,KAAK,CAACS,OAAOH,EAAEI,QAAQF,GAAGA,EAAED,YAAYI,IAAIR;;ACkB94B,aAlBD,IAAA,EAAA,QAAA,OAEM,EAAQ,SAAS,cAAc,SAGrC,SAAS,IACH,KAAA,EAAM,MAAM,QAAU,GAAtB,CACE,IAAA,EAAO,EAAM,MAAM,KAAK,GACxB,EAAS,IAAI,WACnB,EAAO,iBAAiB,OAAQ,SAAA,GACxB,IAAA,GAAS,EAAM,EAAA,OAAA,EAAO,QACtB,EAAM,EAAO,KAAK,IACxB,KAAI,KAAW,SACR,EAAO,KAAK,IACnB,SAAS,cAAc,OAAO,YAAc,KAAK,UAAU,KAE7D,EAAO,mBAAmB,IAb5B,EAAM,iBAAiB,SAAU","file":"example.7d67b87a.js","sourceRoot":"..\\example","sourcesContent":["var e=\"http://www.yamaha.co.jp/vocaloid/schema/vsq3/\",r=\"http://www.yamaha.co.jp/vocaloid/schema/vsq4/\";function t(t){var a=(new DOMParser).parseFromString(t,\"text/xml\");if(function(e){var r=(new DOMParser).parseFromString(\"<\",\"text/xml\").getElementsByTagName(\"parsererror\")[0].namespaceURI;if(\"http://www.w3.org/1999/xhtml\"===r)return e.getElementsByTagName(\"parsererror\").length>0;return e.getElementsByTagNameNS(r,\"parsererror\").length>0}(a))return{error:\"XML parse error\",data:null};if(a.children.length<=0||a.children[0].namespaceURI!==e&&a.children[0].namespaceURI!==r||\"vsq3\"!==a.children[0].tagName&&\"vsq4\"!==a.children[0].tagName)return{error:\"Unsupported VSQX format\",data:null};var n=a.children[0],o=n.querySelector(\"vsq3>vender\")||n.querySelector(\"vsq4>vender\"),s=o&&o.textContent,l=n.querySelector(\"vsq3>version\")||n.querySelector(\"vsq4>version\");return{data:{vender:s,version:l&&l.textContent,raw:n}}}export{t as parse};\n","import { parse } from \"../\";\r\n\r\nconst input = document.querySelector(\"input\") as HTMLInputElement;\r\ninput.addEventListener(\"change\", handleFileSelect);\r\n\r\nfunction handleFileSelect() {\r\n  if (input.files.length <= 0) return;\r\n  const file = input.files.item(0);\r\n  const reader = new FileReader();\r\n  reader.addEventListener(\"load\", _e => {\r\n    const result = parse(reader.result as string);\r\n    const raw = result.data.raw;\r\n    self[\"vsq4\"] = raw;\r\n    delete result.data.raw;\r\n    document.querySelector(\"pre\").textContent = JSON.stringify(result);\r\n  });\r\n  reader.readAsBinaryString(file);\r\n  // Array.from(input.files).forEach(console.log.bind(console));\r\n}\r\n"]}